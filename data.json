{
  "reverse_image": "aW1wb3J0IHJlcXVlc3RzLCBvcywgc3lzCmltcG9ydCB3ZWJicm93c2VyCmZyb20gY29sb3JhbWEgaW1wb3J0IEZvcmUsIEJhY2ssIFN0eWxlCmZyb20gZnVuY3Rvb2xzIGltcG9ydCBscnVfY2FjaGUKCkBscnVfY2FjaGUobWF4c2l6ZSA9IE5vbmUpCmRlZiBiYW5uZXIoKToKICAgIEJZID0gIlwwMzNbMTszM20iCiAgICBCUiA9ICJcMDMzWzE7MzFtIgogICAgQkcgPSAiXDAzM1sxOzMybSIKICAgIEJCID0gIlwwMzNbMTszNG0iCiAgICBfT2ZmID0gIlwwMzNbMG0iIAogICAgcmV0dXJuIEZvcmUuUkVEK1N0eWxlLkJSSUdIVCsiXG4iKyJcdCIrciIiIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICBfX19fICAgX19fXyBfXyBfXyAgX19fXyBfX19fICAgX18gICBfX19fCiAgICAgICAgICAgICAgICAgfHwgXFwgfHwgICAgfHwgfHwgfHwgICAgfHwgXFwgKCggXCB8fCAgIAogICAgICAgICAgICAgICAgIHx8Xy8vIHx8PT0gIFxcIC8vIHx8PT0gIHx8Xy8vICBcXCAgfHw9PSAKICAgICAgICAgICAgICAgICB7fXx8IFxcIHx8X19fICBcVi8gIHx8X19fIHx8IFxcIFxfKSkgfHxfX18KICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVyc2lvbiAgMS4xCiAgICAgICAgICAgICAgICAgICAgIF9fIF9fXyAgX19fICBfX18gICAgX19fICAgX19fXyAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgIHx8IHx8XFwvL3x8IC8vIFxcICAvLyBcXCB8fCAgICAgICAgICAgICAKICAgICAgICAgICAgICAge317fSAgICAgIHx8IHx8IFwvIHx8IHx8PXx8ICgoIF9fXyB8fD09ICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgfHwgfHwgICAgfHwgfHwgfHwgIFxcX3x8IHx8X19fICAgICAgICAgIAogICAgICAgICAgICB7fQogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHt9U2l0ZTogaHR0cHM6Ly9oYWNraW5ndmlsYS53b3JkcHJlc3MuY29te30KICAgICAgICAgICAgICAgIHt9ICAgICAgICAgQEF1dGhlciA9IEFuaWtldCBEaW5kYSAge30KICAgICIiIi5mb3JtYXQoQlksIF9PZmYsIEJSLCBfT2ZmLCBCRywgX09mZiwgQkIsIF9PZmYpCgpkZWYgVXNlcl9pbnB1dCgpOgogICAgdHJ5OgogICAgICAgIGZpbGVfY2hlY2soKQogICAgZXhjZXB0IElPRXJyb3I6CiAgICAgICAgcHJpbnQoIlxuIikKICAgICAgICBwcmludChGb3JlLlJFRCArIFN0eWxlLkJSSUdIVCArIkVSUk9SIDogRmlsZSBEb2VzIG5vdCBFeGlzdFxuIiArIFN0eWxlLlJFU0VUX0FMTCkKICAgIGV4Y2VwdCBLZXlib2FyZEludGVycnVwdDoKICAgICAgICBvcy5zeXN0ZW0oJ2NscycgaWYgb3MubmFtZSA9PSAnbnQnIGVsc2UgJ2NsZWFyJykKICAgICAgICBwcmludChiYW5uZXIoKSkKICAgICAgICBwcmludCgiXG5cbiIpCiAgICAgICAgcHJpbnQoRm9yZS5SRUQgKyBTdHlsZS5CUklHSFQgKyJcdCBbIEtleWJvYXJkIEludGVycnVwdCBEZXRlY3RlZCBdIFxuIiArIFN0eWxlLlJFU0VUX0FMTCkKCmRlZiBmaWxlX2NoZWNrKCk6CiAgICBvcy5zeXN0ZW0oJ2NscycgaWYgb3MubmFtZSA9PSAnbnQnIGVsc2UgJ2NsZWFyJykKICAgIHByaW50KGJhbm5lcigpKQogICAgaW1nID0gc3RyKGlucHV0KEZvcmUuQ1lBTiArIFN0eWxlLkJSSUdIVCAgKyAiXG5cblx0WyRdIFR5cGUgeW91ciBmaWxlIGxvY2F0aW9uIC8gbmFtZSAtLT4gIiArIEZvcmUuWUVMTE9XKSkKICAgIG5ld19zdHJpbmcgPSByZW1vdmUoaW1nKQogICAgI3BhdGggPSBvcy5wYXRoLmFic3BhdGgobmV3X3N0cmluZykKICAgIHBhdGggPSBzdHIobmV3X3N0cmluZy5zdHJpcCgpKQogICAgZXh0ID0gb3MucGF0aC5zcGxpdGV4dChwYXRoKVsxXS5sb3dlcigpCiAgICBmaWxlX2V4dF92YWxpZGF0aW9uKHBhdGgsIGV4dCkKCmRlZiByZW1vdmUoaW1nKToKICAgIGNoYXJhY3RlcnNfdG9fcmVtb3ZlID0gIiciICsgJyInICsgIiYiCiAgICBuZXdfc3RyaW5nID0gaW1nLnJlcGxhY2UoJyInLCAiIikKICAgIGZvciBjaGFyYWN0ZXIgaW4gY2hhcmFjdGVyc190b19yZW1vdmU6CiAgICAgICAgbmV3X3N0cmluZyA9IG5ld19zdHJpbmcucmVwbGFjZShjaGFyYWN0ZXIsICIiKS5zdHJpcCgpCiAgICByZXR1cm4gbmV3X3N0cmluZwoKQGxydV9jYWNoZShtYXhzaXplID0gTm9uZSkKZGVmIGZpbGVfZXh0X3ZhbGlkYXRpb24ocGF0aCwgZXh0KToKICAgIGZpbGVfbGlzdCA9IFsiLmpwZyIsICIuZ2lmIiwgIi5wbmciLCAiLmJtcCIsICIudGlmIiAsIi53ZWJwIiwgIi5qcGVnIiwgIi5pY28iLCAic3ZnIiwgInBwbSIsICJ0aWZmIl0KICAgIGlmIGV4dCBpbiBmaWxlX2xpc3Q6CiAgICAgICAgcHJpbnQoIlxuIiArRm9yZS5HUkVFTiArIFN0eWxlLkJSSUdIVCArIiEhISBTdWNlc3NmdWwgISEhIGZpbGUgZXh0ZW50aW9uIG1hdGNoZWQiLnVwcGVyKCkgKyBTdHlsZS5SRVNFVF9BTEwgKyAiXG5cbiIpCiAgICAgICAgcHJpbnQoRm9yZS5DWUFOICsgU3R5bGUuQlJJR0hUICsiWytdIEZpbGUgRXh0ZW5zaW9uIC0tPj4gIHt9Ii5mb3JtYXQoZXh0KSkKICAgICAgICBwcmludCgiWytdIEZpbGUgUGF0aCAtLT4gIHt9Ii5mb3JtYXQocGF0aCkuc3RyaXAoKSArIFN0eWxlLlJFU0VUX0FMTCkKICAgICAgICByZXZlcnNlaW1hZ2VzZWFyY2hfbWFpbl9wcm9jZXNzKHBhdGgpCiAgICBlbHNlOgogICAgICAgIHByaW50KCJcblxuIitGb3JlLlJFRCArIFN0eWxlLkJSSUdIVCsiIE5vdCBzdXBwb3J0ZWQgZmlsZSBleHRlbnRpb24gIi51cHBlcigpK0ZvcmUuWUVMTE9XKyJ7fSIuZm9ybWF0KGV4dCkgKyJcblxuIikKICAgICAgICBwcmludCgiWypdIEZpbGUgcGF0aCAtLT4-ICIrRm9yZS5DWUFOKyJ7fSIuZm9ybWF0KHBhdGgpICsgU3R5bGUuUkVTRVRfQUxMKQogICAgICAgIGlmIGJvb2woZXh0KSA9PSBGYWxzZToKICAgICAgICAgICAgcHJpbnQoRm9yZS5SRUQgKyBTdHlsZS5CUklHSFQrIlshXSBGaWxlIEV4dGVuc2lvbiAtLT4-ICAiICsgIkVycm9yIEV4dGVuc2lvbiBERVRFQ1QgISEhIiArRm9yZS5DWUFOKyJ7fSIuZm9ybWF0KGV4dCkrU3R5bGUuUkVTRVRfQUxMKQogICAgICAgICAgICBfZXJyb3JfcmVzdGFydCgpCiAgICAgICAgZWxpZiBib29sKGV4dCkgPT0gVHJ1ZToKICAgICAgICAgICAgcHJpbnQoRm9yZS5SRUQgKyBTdHlsZS5CUklHSFQrIlshXSBGaWxlIEV4dGVuc2lvbiAtLT4-ICAiICtGb3JlLkNZQU4rICJ7fSIuZm9ybWF0KGV4dCkrU3R5bGUuUkVTRVRfQUxMKQogICAgICAgICAgICBfZXJyb3JfcmVzdGFydCgpCgpkZWYgX2Vycm9yX3Jlc3RhcnQoKToKICAgIHByaW50KEZvcmUuUkVEICsgU3R5bGUuQlJJR0hUICsgIlshXSBTdXBwb3J0ZWQgZmlsZSBmb3JtYXQgLS0-ICAiICsgU3R5bGUuUkVTRVRfQUxMKyBGb3JlLllFTExPVyArIi5qcGcsIC5naWYsIC5wbmcsIC5ibXAsIC50aWYsIC53ZWJwLCAuanBlZywgLmljbywgLnN2ZywgLnBwbSwgLnRpZmYiK1N0eWxlLlJFU0VUX0FMTCsiXG4iKQogICAgZXJyb3IgPSBpbnB1dChGb3JlLlJFRCArIFN0eWxlLkJSSUdIVCArIlxuUHJlc3MgRU5URVIgZm9yIHJlc3RhcnQgb3IgdHlwZSBbcSAvIFFdIGZvciBleGl0ICBcblskXS0tPiAgIiArIFN0eWxlLlJFU0VUX0FMTCkKICAgIGlmIGVycm9yIGluIFsiIiwgIiAiXToKICAgICAgICBVc2VyX2lucHV0KCkKICAgIGVsc2U6CiAgICAgICAgc3lzLmV4aXQKCkBscnVfY2FjaGUobWF4c2l6ZSA9IE5vbmUpCmRlZiByZXZlcnNlaW1hZ2VzZWFyY2hfbWFpbl9wcm9jZXNzKHBhdGgpOgogICAgTWFpbl9saW5rPSdodHRwczovL3d3dy5nb29nbGUuY29tL3NlYXJjaGJ5aW1hZ2UvdXBsb2FkJwogICAgaW1hZ2VfZGF0YV9lbmNvZGVyPXsnZW5jb2RlZF9pbWFnZSc6IChwYXRoLCBvcGVuKHBhdGgsICdyYicpKSwgJ2ltYWdlX2NvbnRlbnQnOiAnJ30KICAgIHJlc3BvbnNlID0gcmVxdWVzdHMucG9zdChNYWluX2xpbmssIGZpbGVzPWltYWdlX2RhdGFfZW5jb2RlciwgYWxsb3dfcmVkaXJlY3RzPUZhbHNlKQogICAgZmV0Y2hVcmwgPSByZXNwb25zZS5oZWFkZXJzWydMb2NhdGlvbiddCiAgICBwcmludCgiXG4iICtGb3JlLldISVRFK0JhY2suQkxVRStTdHlsZS5CUklHSFQrZmV0Y2hVcmwrU3R5bGUuUkVTRVRfQUxMKyJcbiIpCiAgICBvcGVuX2Jyb3dzZXIoZmV0Y2hVcmwpCgpAbHJ1X2NhY2hlKG1heHNpemUgPSBOb25lKQpkZWYgb3Blbl9icm93c2VyKGZldGNoVXJsKToKICAgIG9wZW5XZWIgPSBpbnB1dCgiT3BlbiBTZWFyY2ggUmVzdWx0IGluIHdlYiBicm9zZXI_IChZL04pIDogIikKICAgIGlmIG9wZW5XZWIgaW4gWyJ5IiwgIlkiLCAiMSJdOgogICAgICAgIHdlYmJyb3dzZXIub3BlbihmZXRjaFVybCkKICAgICAgICBlcnJvciA9IGlucHV0KEZvcmUuUkVEICsgU3R5bGUuQlJJR0hUICsiXG5QcmVzcyBFTlRFUiBmb3IgcmVzdGFydCBvciB0eXBlIFtxIC8gUV0gZm9yIGV4aXQgIFxuWyRdLS0-ICAiICsgU3R5bGUuUkVTRVRfQUxMKQogICAgICAgIGlmIGVycm9yIGluIFsiIiwgIiAiXToKICAgICAgICAgICAgVXNlcl9pbnB1dCgpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc3lzLmV4aXQKICAgIGVsc2U6CiAgICAgICAgc3lzLmV4aXQKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBVc2VyX2lucHV0KCk"
}
